InstruÃ§Ãµes claras para implementar no projeto

Siga exatamente as regras abaixo no fluxo do formulÃ¡rio + Supabase:

âœ… 1. ConfirmaÃ§Ã£o SEM acompanhante e SEM transporte

Quando o colaborador enviar o formulÃ¡rio e selecionar â€œNÃ£o tenho acompanhanteâ€ e â€œNÃ£o preciso de transporteâ€:

Mostrar um popup com efeito de confetes.

Mostrar mensagem de ParabÃ©ns pela confirmaÃ§Ã£o.

NÃ£o redirecionar para outra pÃ¡gina.

âœ… 2. ConfirmaÃ§Ã£o COM acompanhante

Quando o colaborador adicionar acompanhante, entÃ£o apÃ³s clicar em confirmar:

Exibir um popup com animaÃ§Ã£o, dizendo:

â€œVocÃª estÃ¡ sendo redirecionadoâ€¦â€

Quantas diÃ¡rias e quantos transfers de Ã´nibus ele precisa comprar.

ApÃ³s 6 segundos, redirecionar automaticamente para:
ğŸ‘‰ https://useingresso.com/evento/691b30d3dc465aca63b2bbef

Dentro do popup tambÃ©m deve existir um botÃ£o â€˜Ir agoraâ€™ que tambÃ©m faz esse redirecionamento imediatamente.

âœ… 3. Cada colaborador sÃ³ pode confirmar UMA vez

No envio das informaÃ§Ãµes:

Antes de salvar no banco, fazer uma consulta no Supabase verificando se o nome (ou ID/documento, dependendo da tabela) jÃ¡ existe.

Se jÃ¡ existir, bloquear novo envio e nÃ£o permitir cadastrar de novo.

Exibir mensagem:
â€œVocÃª jÃ¡ realizou sua confirmaÃ§Ã£o anteriormente.â€

âœ… 4. Caso tente confirmar novamente

Se o colaborador jÃ¡ confirmou antes:

Exibir mensagem explicando que ele jÃ¡ confirmou.

Oferecer opÃ§Ã£o â€œEditar minha confirmaÃ§Ã£oâ€.

âœ… 5. Para editar a confirmaÃ§Ã£o

Para autorizar a ediÃ§Ã£o:

Solicitar uma senha.

A senha deve ser: os 5 primeiros dÃ­gitos do documento cadastrado na primeira confirmaÃ§Ã£o.

Somente ao inserir corretamente essa senha, o sistema deve:

Liberar o formulÃ¡rio novamente.

Permitir editar todos os dados.

Ao submeter, deve atualizar o registro existente no Supabase (nÃ£o criar novo).

ğŸ”„ Resumo tÃ©cnico que vocÃª deve implementar

Consulta no banco antes do insert.

Insert somente se o colaborador ainda nÃ£o existir.

Update quando o colaborador estiver autenticado com a senha (5 primeiros dÃ­gitos).

LÃ³gica condicional para:

popup de parabÃ©ns + confetes (sem acompanhante)

popup + animaÃ§Ã£o + redirecionamento (com acompanhante)